!function(e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).dragula=e()}(function(){return(function e(n,t,o){function r(c,u){if(!t[c]){if(!n[c]){var a="function"==typeof require&&require;if(!u&&a)return a(c,!0);if(i)return i(c,!0);throw(a=Error("Cannot find module '"+c+"'")).code="MODULE_NOT_FOUND",a}a=t[c]={exports:{}},n[c][0].call(a.exports,function(e){return r(n[c][1][e]||e)},a,a.exports,e,n,t,o)}return t[c].exports}for(var i="function"==typeof require&&require,c=0;c<o.length;c++)r(o[c]);return r})({1:[function(e,n,t){"use strict";var o={};function r(e){var n=o[e];return n?n.lastIndex=0:o[e]=n=RegExp("(?:^|\\s)"+e+"(?:\\s|$)","g"),n}n.exports={add:function(e,n){var t=e.className;t.length?r(n).test(t)||(e.className+=" "+n):e.className=n},rm:function(e,n){e.className=e.className.replace(r(n)," ").trim()}}},{},],2:[function(e,n,t){(function(t){"use strict";var o=e("contra/emitter"),r=e("crossvent"),i=e("./classes"),c=document,u=c.documentElement;function a(e,n,o,i){t.navigator.pointerEnabled?r[n](e,{mouseup:"pointerup",mousedown:"pointerdown",mousemove:"pointermove"}[o],i):t.navigator.msPointerEnabled?r[n](e,{mouseup:"MSPointerUp",mousedown:"MSPointerDown",mousemove:"MSPointerMove"}[o],i):(r[n](e,{mouseup:"touchend",mousedown:"touchstart",mousemove:"touchmove"}[o],i),r[n](e,o,i))}function l(e){return void 0!==e.touches?e.touches.length:void 0!==e.which&&0!==e.which?e.which:void 0!==e.buttons?e.buttons:void 0!==(e=e.button)?1&e?1:2&e?3:4&e?2:0:void 0}function f(e,n){return void 0!==t[n]?t[n]:(u.clientHeight?u:c.body)[e]}function s(e,n,t){var o=(e=e||{}).className||"";return e.className+=" gu-hide",t=c.elementFromPoint(n,t),e.className=o,t}function d(){return!1}function p(){return!0}function v(e){return e.width||e.right-e.left}function m(e){return e.height||e.bottom-e.top}function h(e){return e.parentNode===c?null:e.parentNode}function g(e){return"INPUT"===e.tagName||"TEXTAREA"===e.tagName||"SELECT"===e.tagName||function e(n){return!!n&&"false"!==n.contentEditable&&("true"===n.contentEditable||e(h(n)))}(e)}function y(e){return e.nextElementSibling||function(){for(var n=e;(n=n.nextSibling)&&1!==n.nodeType;);return n}()}function $(e,n){var n=(t=n).targetTouches&&t.targetTouches.length?t.targetTouches[0]:t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:t,t={pageX:"clientX",pageY:"clientY"};return e in t&&!(e in n)&&t[e]in n&&(e=t[e]),n[e]}n.exports=function(e,n){1===arguments.length&&!1===Array.isArray(e)&&(n=e,e=[]);var t,_,b,w,E,T,x,S,C,O,N,I,X=null,L=n||{};void 0===L.moves&&(L.moves=p),void 0===L.accepts&&(L.accepts=p),void 0===L.invalid&&(L.invalid=function(){return!1}),void 0===L.containers&&(L.containers=e||[]),void 0===L.isContainer&&(L.isContainer=d),void 0===L.copy&&(L.copy=!1),void 0===L.copySortSource&&(L.copySortSource=!1),void 0===L.revertOnSpill&&(L.revertOnSpill=!1),void 0===L.removeOnSpill&&(L.removeOnSpill=!1),void 0===L.direction&&(L.direction="vertical"),void 0===L.ignoreInputTextSelection&&(L.ignoreInputTextSelection=!0),void 0===L.mirrorContainer&&(L.mirrorContainer=c.body);var Y=o({containers:L.containers,start:function(e){(e=A(e))&&R(e)},end:U,cancel:q,remove:V,destroy:function(){D(!0),z({})},canMove:function(e){return!!A(e)},dragging:!1});return!0===L.removeOnSpill&&Y.on("over",function(e){i.rm(e,"gu-hide")}).on("out",function(e){Y.dragging&&i.add(e,"gu-hide")}),D(),Y;function P(e){return -1!==Y.containers.indexOf(e)||L.isContainer(e)}function D(e){a(u,e=e?"remove":"add","mousedown",j),a(u,e,"mouseup",z)}function k(e){a(u,e?"remove":"add","mousemove",M)}function B(e){r[e=e?"remove":"add"](u,"selectstart",F),r[e](u,"click",F)}function F(e){I&&e.preventDefault()}function j(e){var n,t;T=e.clientX,x=e.clientY,1!==l(e)||e.metaKey||e.ctrlKey||(t=A(n=e.target))&&(I=t,k(),"mousedown"===e.type&&(g(n)?n.focus():e.preventDefault()))}function M(e){if(I){if(0!==l(e)){if(!(void 0!==e.clientX&&Math.abs(e.clientX-T)<=(L.slideFactorX||0)&&void 0!==e.clientY&&Math.abs(e.clientY-x)<=(L.slideFactorY||0))){if(L.ignoreInputTextSelection){var n,o=$("clientX",e)||0,r=$("clientY",e)||0;if(g(c.elementFromPoint(o,r)))return}r=I,k(!0),B(),U(),R(r),r={left:(n=(n=b).getBoundingClientRect()).left+f("scrollLeft","pageXOffset"),top:n.top+f("scrollTop","pageYOffset")},w=$("pageX",e)-r.left,E=$("pageY",e)-r.top,i.add(O||b,"gu-transit"),function(){if(!t){var e=b.getBoundingClientRect();(t=b.cloneNode(!0)).style.width=v(e)+"px",t.style.height=m(e)+"px",i.rm(t,"gu-transit"),i.add(t,"gu-mirror"),L.mirrorContainer.appendChild(t),a(u,"add","mousemove",W),i.add(L.mirrorContainer,"gu-unselectable"),Y.emit("cloned",t,b,"mirror")}}(),W(e)}}else z({})}}function A(e){if(!(Y.dragging&&t||P(e))){for(var n=e;h(e)&&!1===P(h(e));)if(L.invalid(e,n)||!(e=h(e)))return;var o=h(e);if(o&&!L.invalid(e,n)&&L.moves(e,o,n,y(e)))return{item:e,source:o}}}function R(e){var n,t;n=e.item,t=e.source,("boolean"==typeof L.copy?L.copy:L.copy(n,t))&&(O=e.item.cloneNode(!0),Y.emit("cloned",O,e.item,"copy")),_=e.source,b=e.item,S=C=y(e.item),Y.dragging=!0,Y.emit("drag",b,_)}function U(){var e;Y.dragging&&H(e=O||b,h(e))}function K(){k((I=!1,!0)),B(!0)}function z(e){var n,o;K(),Y.dragging&&(n=O||b,o=$("clientX",e)||0,e=$("clientY",e)||0,(e=Q(s(t,o,e),o,e))&&(O&&L.copySortSource||!O||e!==_)?H(n,e):(L.removeOnSpill?V:q)())}function H(e,n){var t=h(e);O&&L.copySortSource&&n===_&&t.removeChild(b),J(n)?Y.emit("cancel",e,_,_):Y.emit("drop",e,n,_,C),G()}function V(){var e,n;Y.dragging&&((n=h(e=O||b))&&n.removeChild(e),Y.emit(O?"cancel":"remove",e,n,_),G())}function q(e){var n,t,o;Y.dragging&&(n=0<arguments.length?e:L.revertOnSpill,!1===(e=J(o=h(t=O||b)))&&n&&(O?o&&o.removeChild(O):_.insertBefore(t,S)),e||n?Y.emit("cancel",t,_,_):Y.emit("drop",t,o,_,C),G())}function G(){var e=O||b;K(),t&&(i.rm(L.mirrorContainer,"gu-unselectable"),a(u,"remove","mousemove",W),h(t).removeChild(t),t=null),e&&i.rm(e,"gu-transit"),N&&clearTimeout(N),Y.dragging=!1,X&&Y.emit("out",e,X,_),Y.emit("dragend",e),_=b=O=S=C=N=X=null}function J(e,n){return n=void 0!==n?n:t?C:y(O||b),e===_&&n===S}function Q(e,n,t){for(var o=e;o&&!function(){if(!1===P(o))return!1;var r=Z(o,e),r=ee(o,r,n,t);return!!J(o,r)||L.accepts(b,o,_,r)}();)o=h(o);return o}function W(e){if(t){e.preventDefault();var n=$("clientX",e)||0,o=$("clientY",e)||0,r=n-w,i=o-E;t.style.left=r+"px",t.style.top=i+"px";var c=O||b,e=s(t,n,o),r=Q(e,n,o),u=null!==r&&r!==X;if(!u&&null!==r||(X&&l("out"),X=r,u&&l("over")),i=h(c),r!==_||!O||L.copySortSource){var a,e=Z(r,e);if(null!==e)a=ee(r,e,n,o);else{if(!0!==L.revertOnSpill||O)return void(O&&i&&i.removeChild(c));a=S,r=_}(null===a&&u||a!==c&&a!==y(c))&&(C=a,r.insertBefore(c,a),Y.emit("shadow",c,r,_))}else i&&i.removeChild(c)}function l(e){Y.emit(e,c,X,_)}}function Z(e,n){for(var t=n;t!==e&&h(t)!==e;)t=h(t);return t===u?null:t}function ee(e,n,t,o){var r="horizontal"===L.direction;return(n!==e?function(){var e=n.getBoundingClientRect();return r?i(t>e.left+v(e)/2):i(o>e.top+m(e)/2)}:function(){var n,i,c,u=e.children.length;for(n=0;n<u;n++)if(c=(i=e.children[n]).getBoundingClientRect(),r&&c.left+c.width/2>t||!r&&c.top+c.height/2>o)return i;return null})();function i(e){return e?y(n):n}}}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./classes":1,"contra/emitter":5,crossvent:6},],3:[function(e,n,t){n.exports=function(e,n){return Array.prototype.slice.call(e,n)}},{},],4:[function(e,n,t){"use strict";var o=e("ticky");n.exports=function(e,n,t){e&&o(function(){e.apply(t||null,n||[])})}},{ticky:10},],5:[function(e,n,t){"use strict";var o=e("atoa"),r=e("./debounce");n.exports=function(e,n){var t=n||{},i={};return void 0===e&&(e={}),e.on=function(n,t){return i[n]?i[n].push(t):i[n]=[t],e},e.once=function(n,t){return t._once=!0,e.on(n,t),e},e.off=function(n,t){var o=arguments.length;if(1===o)delete i[n];else if(0===o)i={};else{if(!(n=i[n]))return e;n.splice(n.indexOf(t),1)}return e},e.emit=function(){var n=o(arguments);return e.emitterSnapshot(n.shift()).apply(this,n)},e.emitterSnapshot=function(n){var c=(i[n]||[]).slice(0);return function(){var i=o(arguments),u=this||e;if("error"===n&&!1!==t.throws&&!c.length)throw 1===i.length?i[0]:i;return c.forEach(function(o){t.async?r(o,i,u):o.apply(u,i),o._once&&e.off(n,o)}),e}},e}},{"./debounce":4,atoa:3},],6:[function(e,n,t){(function(t){"use strict";var o=e("custom-event"),r=e("./eventmap"),i=t.document,c=function(e,n,t,o){return e.addEventListener(n,t,o)},u=function(e,n,t,o){return e.removeEventListener(n,t,o)},a=[];function l(e,n,t){if(n=function(e,n,t){var o,r;for(o=0;o<a.length;o++)if((r=a[o]).element===e&&r.type===n&&r.fn===t)return o}(e,n,t))return t=a[n].wrapper,a.splice(n,1),t}t.addEventListener||(c=function(e,n,o){var r,i,c,u,f,s;return e.attachEvent("on"+n,(r=e,i=n,s=l(r,i,c=o)||(u=r,f=c,function(e){var n=e||t.event;n.target=n.target||n.srcElement,n.preventDefault=n.preventDefault||function(){n.returnValue=!1},n.stopPropagation=n.stopPropagation||function(){n.cancelBubble=!0},n.which=n.which||n.keyCode,f.call(u,n)}),a.push({wrapper:s,element:r,type:i,fn:c}),s))},u=function(e,n,t){if(t=l(e,n,t))return e.detachEvent("on"+n,t)}),n.exports={add:c,remove:u,fabricate:function(e,n,t){var c,u=-1===r.indexOf(n)?new o(n,{detail:t}):(i.createEvent?(c=i.createEvent("Event")).initEvent(n,!0,!0):i.createEventObject&&(c=i.createEventObject()),c);e.dispatchEvent?e.dispatchEvent(u):e.fireEvent("on"+n,u)}}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./eventmap":7,"custom-event":8},],7:[function(e,n,t){(function(e){"use strict";var t=[],o="",r=/^on/;for(o in e)r.test(o)&&t.push(o.slice(2));n.exports=t}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{},],8:[function(e,n,t){(function(e){var t=e.CustomEvent;n.exports=!function(){try{var e=new t("cat",{detail:{foo:"bar"}});return"cat"===e.type&&"bar"===e.detail.foo}catch(n){}}()?"undefined"!=typeof document&&"function"==typeof document.createEvent?function(e,n){var t=document.createEvent("CustomEvent");return n?t.initCustomEvent(e,n.bubbles,n.cancelable,n.detail):t.initCustomEvent(e,!1,!1,void 0),t}:function(e,n){var t=document.createEventObject();return t.type=e,n?(t.bubbles=Boolean(n.bubbles),t.cancelable=Boolean(n.cancelable),t.detail=n.detail):(t.bubbles=!1,t.cancelable=!1,t.detail=void 0),t}:t}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{},],9:[function(e,n,t){var o,r,n=n.exports={};function i(){throw Error("setTimeout has not been defined")}function c(){throw Error("clearTimeout has not been defined")}function u(e){if(o===setTimeout)return setTimeout(e,0);if((o===i||!o)&&setTimeout)return o=setTimeout,setTimeout(e,0);try{return o(e,0)}catch(n){try{return o.call(null,e,0)}catch(t){return o.call(this,e,0)}}}!function(){try{o="function"==typeof setTimeout?setTimeout:i}catch(e){o=i}try{r="function"==typeof clearTimeout?clearTimeout:c}catch(n){r=c}}();var a,l=[],f=!1,s=-1;function d(){f&&a&&(f=!1,a.length?l=a.concat(l):s=-1,l.length&&p())}function p(){if(!f){var e=u(d);f=!0;for(var n=l.length;n;){for(a=l,l=[];++s<n;)a&&a[s].run();s=-1,n=l.length}a=null,f=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===c||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(n){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function v(e,n){this.fun=e,this.array=n}function m(){}n.nextTick=function(e){var n=Array(arguments.length-1);if(1<arguments.length)for(var t=1;t<arguments.length;t++)n[t-1]=arguments[t];l.push(new v(e,n)),1!==l.length||f||u(p)},v.prototype.run=function(){this.fun.apply(null,this.array)},n.title="browser",n.browser=!0,n.env={},n.argv=[],n.version="",n.versions={},n.on=m,n.addListener=m,n.once=m,n.off=m,n.removeListener=m,n.removeAllListeners=m,n.emit=m,n.prependListener=m,n.prependOnceListener=m,n.listeners=function(e){return[]},n.binding=function(e){throw Error("process.binding is not supported")},n.cwd=function(){return"/"},n.chdir=function(e){throw Error("process.chdir is not supported")},n.umask=function(){return 0}},{},],10:[function(e,n,t){(function(e){n.exports="function"==typeof e?function(n){e(n)}:function(e){setTimeout(e,0)}}).call(this,e("timers").setImmediate)},{timers:11},],11:[function(e,n,t){(function(n,o){var r=e("process/browser.js").nextTick,i=Function.prototype.apply,c=Array.prototype.slice,u={},a=0;function l(e,n){this._id=e,this._clearFn=n}t.setTimeout=function(){return new l(i.call(setTimeout,window,arguments),clearTimeout)},t.setInterval=function(){return new l(i.call(setInterval,window,arguments),clearInterval)},t.clearTimeout=t.clearInterval=function(e){e.close()},l.prototype.unref=l.prototype.ref=function(){},l.prototype.close=function(){this._clearFn.call(window,this._id)},t.enroll=function(e,n){clearTimeout(e._idleTimeoutId),e._idleTimeout=n},t.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},t._unrefActive=t.active=function(e){clearTimeout(e._idleTimeoutId);var n=e._idleTimeout;0<=n&&(e._idleTimeoutId=setTimeout(function(){e._onTimeout&&e._onTimeout()},n))},t.setImmediate="function"==typeof n?n:function(e){var n=a++,o=!(arguments.length<2)&&c.call(arguments,1);return u[n]=!0,r(function(){u[n]&&(o?e.apply(null,o):e.call(null),t.clearImmediate(n))}),n},t.clearImmediate="function"==typeof o?o:function(e){delete u[e]}}).call(this,e("timers").setImmediate,e("timers").clearImmediate)},{"process/browser.js":9,timers:11},]},{},[2])(2)});