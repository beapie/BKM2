!function(e){"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?module.exports=e():window.wNumb=e()}(function(){"use strict";var e=["decimals","thousand","mark","prefix","suffix","encoder","decoder","negativeBefore","negative","edit","undo"];function t(e){return e.split("").reverse().join("")}function n(e,t){return e.substring(0,t.length)===t}function i(e,t,n){if((e[t]||e[n])&&e[t]===e[n])throw Error(t)}function r(e){return"number"==typeof e&&isFinite(e)}function o(e,n,i,o,f,u,s,c,a,p,l,d){var g,h,$,v,_,x=d,m="",y="";return u&&(d=u(d)),!!r(d)&&(!1!==e&&0===parseFloat(d.toFixed(e))&&(d=0),d<0&&(g=!0,d=Math.abs(d)),!1!==e&&(d=(v=d,_=e,(+((v=(v=Math.round(+((v=v.toString().split("e"))[0]+"e"+(v[1]?+v[1]+_:_)))).toString().split("e"))[0]+"e"+(v[1]?v[1]-_:-_))).toFixed(_))),-1!==(d=d.toString()).indexOf(".")?($=(h=d.split("."))[0],i&&(m=i+h[1])):$=d,n&&($=t(($=t($).match(/.{1,3}/g)).join(t(n)))),g&&c&&(y+=c),o&&(y+=o),g&&a&&(y+=a),y+=$,y+=m,f&&(y+=f),p&&(y=p(y,x)),y)}function f(e,t,i,o,f,u,s,c,a,p,l,d){var g,h,$,v="";return l&&(d=l(d)),!(!d||"string"!=typeof d)&&(c&&n(d,c)&&(d=d.replace(c,""),g=!0),o&&n(d,o)&&(d=d.replace(o,"")),a&&n(d,a)&&(d=d.replace(a,""),g=!0),f&&(h=d,$=f,h.slice(-1*$.length)===$)&&(d=d.slice(0,-1*f.length)),t&&(d=d.split(t).join("")),i&&(d=d.replace(i,".")),g&&(v+="-"),""!==(v=(v+=d).replace(/[^0-9\.\-.]/g,""))&&(v=Number(v),s&&(v=s(v)),!!r(v)&&v))}function u(t,n,i){var r,o=[];for(r=0;r<e.length;r+=1)o.push(t[e[r]]);return o.push(i),n.apply("",o)}return function t(n){if(!(this instanceof t))return new t(n);"object"==typeof n&&(n=function(t){var n,r,o,f={};for(void 0===t.suffix&&(t.suffix=t.postfix),n=0;n<e.length;n+=1)if(void 0===(o=t[r=e[n]]))"negative"!==r||f.negativeBefore?"mark"===r&&"."!==f.thousand?f[r]=".":f[r]=!1:f[r]="-";else if("decimals"===r){if(!(0<=o&&o<8))throw Error(r);f[r]=o}else if("encoder"===r||"decoder"===r||"edit"===r||"undo"===r){if("function"!=typeof o)throw Error(r);f[r]=o}else{if("string"!=typeof o)throw Error(r);f[r]=o}return i(f,"mark","thousand"),i(f,"prefix","negative"),i(f,"prefix","negativeBefore"),f}(n),this.to=function(e){return u(n,o,e)},this.from=function(e){return u(n,f,e)})}});